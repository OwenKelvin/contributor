query GetContributions(
  $filter: ContributionFilter
  $pagination: ContributionPaginationInput
) {
  getContributions(filter: $filter, pagination: $pagination) {
    edges {
      node {
        id
        user {
          id
          firstName
          lastName
          email
        }
        project {
          id
          title
          description
          goalAmount
          currentAmount
          status
        }
        amount
        paymentStatus
        notes
        paymentReference
        failureReason
        paidAt
        createdAt
        updatedAt
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
    totalAmount
  }
}

query GetContribution($id: String!) {
  getContribution(id: $id) {
    id
    user {
      id
      firstName
      lastName
      email
    }
    project {
      id
      title
      description
      goalAmount
      currentAmount
      status
    }
    amount
    paymentStatus
    notes
    paymentReference
    failureReason
    paidAt
    transactions {
      id
      transactionType
      amount
      status
      gatewayTransactionId
      gatewayResponse
      errorCode
      errorMessage
      createdAt
    }
    createdAt
    updatedAt
  }
}

query GetMyContributions(
  $filter: ContributionFilter
  $pagination: ContributionPaginationInput
) {
  getMyContributions(filter: $filter, pagination: $pagination) {
    edges {
      node {
        id
        project {
          id
          title
          description
          goalAmount
          currentAmount
          status
          featuredImage
        }
        amount
        paymentStatus
        notes
        paymentReference
        failureReason
        paidAt
        createdAt
        updatedAt
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
    totalAmount
  }
}

query GetProjectContributions(
  $projectId: String!
  $filter: ContributionFilter
  $pagination: ContributionPaginationInput
) {
  getProjectContributions(
    projectId: $projectId
    filter: $filter
    pagination: $pagination
  ) {
    edges {
      node {
        id
        user {
          id
          firstName
          lastName
          email
        }
        amount
        paymentStatus
        notes
        paymentReference
        paidAt
        createdAt
        updatedAt
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
    totalAmount
  }
}

query GetContributionReport($reportType: ReportType!, $filter: ReportFilter) {
  getContributionReport(reportType: $reportType, filter: $filter) {
    totalContributions
    totalAmount
    pendingCount
    pendingAmount
    paidCount
    paidAmount
    failedCount
    failedAmount
    refundedCount
    refundedAmount
    successRate
    topProjects {
      projectId
      projectTitle
      totalAmount
      contributionCount
    }
    topContributors {
      userId
      userName
      userEmail
      totalAmount
      contributionCount
    }
    timeSeriesData {
      date
      contributionCount
      totalAmount
    }
  }
}

query GetContributionTransactions($contributionId: String!) {
  getContributionTransactions(contributionId: $contributionId) {
    id
    contribution {
      id
      amount
      paymentStatus
    }
    transactionType
    amount
    status
    gatewayTransactionId
    gatewayResponse
    errorCode
    errorMessage
    createdAt
  }
}

query GetTransactions($filter: TransactionFilterInput, $pagination: ContributionPaginationInput) {
  getTransactions(filter: $filter, pagination: $pagination) {
    edges {
      node {
        id
        contribution {
          id
          user {
            id
            firstName
            lastName
            email
          }
          project {
            id
            title
          }
          amount
          paymentStatus
        }
        transactionType
        amount
        status
        gatewayTransactionId
        gatewayResponse
        errorCode
        errorMessage
        createdAt
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    totalCount
  }
}
