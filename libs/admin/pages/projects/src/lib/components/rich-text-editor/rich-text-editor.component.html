<div class="rich-text-editor-container">
  @if (isBrowser()) {
    <div class="editor-wrapper">
      <quill-editor
        #editor
        [modules]="quillModules"
        [placeholder]="placeholder"
        [readOnly]="isReadonly"
        [(ngModel)]="editorContent"
        (onContentChanged)="onContentChanged($event)"
        class="editor"
      ></quill-editor>
      
      @if (isImageUploading()) {
        <div class="upload-overlay">
          <div class="upload-spinner">
            <ng-icon name="lucideLoader2" class="animate-spin" size="24" />
            <span class="upload-text">Uploading image...</span>
          </div>
        </div>
      }
    </div>
    
    <div class="editor-footer">
      <span class="character-count">
        {{ characterCount() }} / {{ maxLength }} characters
      </span>
    </div>
  } @else {
    <div class="p-4 text-muted-foreground">
      Loading editor...
    </div>
  }
</div>
