# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

input AdminCreateContributionInput {
  amount: Float!
  notes: String
  paymentReference: String
  paymentStatus: PaymentStatus!
  projectId: ID!
  userId: ID!
}

input ArchivedProjectFilter {
  archivedAfter: DateTime
  archivedBefore: DateTime
}

type AuthResponse {
  accessToken: String!
  user: User!
}

type BulkUpdateError {
  contributionId: String!
  error: String!
}

input BulkUpdateInput {
  categoryId: ID
  status: ProjectStatus
}

type Category {
  createdAt: DateTime!
  description: String
  id: ID!
  name: String!
  projectCount: Int!
  updatedAt: DateTime!
}

type Contribution {
  amount: Float!
  createdAt: DateTime!
  failureReason: String
  id: ID!
  notes: String
  paidAt: DateTime
  paymentReference: String
  paymentStatus: PaymentStatus!
  project: Project!
  transactions: [Transaction!]!
  updatedAt: DateTime!
  user: User!
}

type ContributionBulkUpdateResult {
  errors: [BulkUpdateError!]!
  failureCount: Int!
  successCount: Int!
}

type ContributionConnection {
  edges: [ContributionEdge!]!
  pageInfo: PageInfo!
  totalAmount: Float!
  totalCount: Int!
}

type ContributionEdge {
  cursor: String!
  node: Contribution!
}

input ContributionFilter {
  endDate: DateTime
  maxAmount: Float
  minAmount: Float
  paymentStatus: PaymentStatus
  projectId: ID
  search: String
  startDate: DateTime
  userId: ID
}

input ContributionPaginationInput {
  after: String
  before: String
  first: Int
  last: Int
}

type ContributionReport {
  failedAmount: Float!
  failedCount: Int!
  paidAmount: Float!
  paidCount: Int!
  pendingAmount: Float!
  pendingCount: Int!
  refundedAmount: Float!
  refundedCount: Int!
  successRate: Float!
  timeSeriesData: [TimeSeriesPoint!]!
  topContributors: [UserContributionSummary!]!
  topProjects: [ProjectContributionSummary!]!
  totalAmount: Float!
  totalContributions: Int!
}

input CreateCategoryInput {
  description: String
  name: String!
}

input CreateContributionInput {
  amount: Float!
  notes: String
  projectId: ID!
}

input CreateProjectInput {
  categoryId: ID!
  description: String!
  detailedDescription: String!
  endDate: DateTime!
  featuredImage: String
  goalAmount: Float!
  startDate: DateTime!
  status: ProjectStatus!
  title: String!
}

input DateRangeInput {
  end: DateTime!
  start: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input LoginInput {
  email: String!
  password: String!
}

type Mutation {
  adminCreateContribution(input: AdminCreateContributionInput!): Contribution!
  approveProject(id: String!, notes: String): Project!
  bulkUpdateContributionStatus(contributionIds: [String!]!, reason: String, status: PaymentStatus!): ContributionBulkUpdateResult!
  bulkUpdateProjects(ids: [String!]!, input: BulkUpdateInput!): ProjectBulkUpdateResult!
  createCategory(input: CreateCategoryInput!): Category!
  createContribution(input: CreateContributionInput!): Contribution!
  createProject(input: CreateProjectInput!): Project!
  deleteCategory(id: String!): Boolean!
  deleteProject(id: String!): Boolean!
  login(loginInput: LoginInput!): AuthResponse!
  processContributionPayment(contributionId: String!, paymentDetails: PaymentDetailsInput!): Contribution!
  processContributionRefund(contributionId: String!, reason: String!): Contribution!
  register(registerInput: RegisterInput!): AuthResponse!
  rejectProject(id: String!, reason: String!): Project!
  updateCategory(id: String!, input: UpdateCategoryInput!): Category!
  updateContributionStatus(contributionId: String!, reason: String, status: PaymentStatus!): Contribution!
  updateProject(id: String!, input: UpdateProjectInput!): Project!
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
}

input PaymentDetailsInput {
  accountReference: String!
  phoneNumber: String!
  transactionDesc: String
}

enum PaymentStatus {
  FAILED
  PAID
  PENDING
  REFUNDED
}

type Permission {
  id: ID!
  name: String!
  roles: [Role!]!
}

type Project {
  category: Category!
  createdAt: DateTime!
  currentAmount: Float!
  description: String!
  detailedDescription: String!
  endDate: DateTime!
  featuredImage: String
  goalAmount: Float!
  id: ID!
  startDate: DateTime!
  status: ProjectStatus!
  title: String!
  updatedAt: DateTime!
}

type ProjectBulkUpdateResult {
  errors: [String!]!
  failureCount: Int!
  successCount: Int!
}

type ProjectConnection {
  pageInfo: PageInfo!
  projects: [Project!]!
}

type ProjectContributionSummary {
  contributionCount: Int!
  projectId: ID!
  projectTitle: String!
  totalAmount: Float!
}

input ProjectFilter {
  categoryId: ID
  dateRange: DateRangeInput
  status: ProjectStatus
}

input ProjectPaginationInput {
  cursor: String
  limit: Int!
}

enum ProjectStatus {
  ACTIVE
  ARCHIVED
  COMPLETED
  DRAFT
  PENDING
}

type Query {
  getActiveProjects(pagination: ProjectPaginationInput): ProjectConnection!
  getAllCategories: [Category!]!
  getAllProjects(filter: ProjectFilter, pagination: ProjectPaginationInput, search: String): ProjectConnection!
  getArchivedProjects(filter: ArchivedProjectFilter, pagination: ProjectPaginationInput): ProjectConnection!
  getContribution(id: String!): Contribution!
  getContributionReport(filter: ReportFilter, reportType: ReportType!): ContributionReport!
  getContributionTransactions(contributionId: String!): [Transaction!]!
  getContributions(filter: ContributionFilter, pagination: ContributionPaginationInput): ContributionConnection!
  getMyContributions(filter: ContributionFilter, pagination: ContributionPaginationInput): ContributionConnection!
  getPendingProjects(pagination: ProjectPaginationInput): ProjectConnection!
  getProjectById(id: String!): Project!
  getProjectContributions(filter: ContributionFilter, pagination: ContributionPaginationInput, projectId: String!): ContributionConnection!
  getTransactions(filter: TransactionFilterInput, pagination: ContributionPaginationInput): TransactionConnection!
}

input RegisterInput {
  email: String!
  firstName: String!
  lastName: String!
  password: String!
  phoneNumber: String
}

input ReportFilter {
  endDate: DateTime
  projectId: ID
  startDate: DateTime
  userId: ID
}

"""Type of contribution report to generate"""
enum ReportType {
  BY_PROJECT
  BY_USER
  SUMMARY
  TIME_SERIES
}

type Role {
  id: ID!
  name: String!
  permissions: [Permission!]!
  users: [User!]!
}

type TimeSeriesPoint {
  contributionCount: Int!
  date: String!
  totalAmount: Float!
}

type Transaction {
  amount: Float!
  contribution: Contribution!
  createdAt: DateTime!
  errorCode: String
  errorMessage: String
  gatewayResponse: String
  gatewayTransactionId: String
  id: ID!
  status: TransactionStatus!
  transactionType: TransactionType!
}

type TransactionConnection {
  edges: [TransactionEdge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

type TransactionEdge {
  cursor: String!
  node: Transaction!
}

input TransactionFilterInput {
  contributionId: String
  endDate: DateTime
  search: String
  startDate: DateTime
  status: TransactionStatus
  transactionType: TransactionType
}

enum TransactionStatus {
  FAILED
  PENDING
  SUCCESS
}

enum TransactionType {
  PAYMENT
  REFUND
}

input UpdateCategoryInput {
  description: String
  name: String
}

input UpdateProjectInput {
  categoryId: ID
  description: String
  detailedDescription: String
  endDate: DateTime
  featuredImage: String
  goalAmount: Float
  startDate: DateTime
  status: ProjectStatus
  title: String
}

type User {
  email: String!
  firstName: String
  id: ID!
  lastName: String
  phoneNumber: String
  roles: [Role!]!
}

type UserContributionSummary {
  contributionCount: Int!
  totalAmount: Float!
  userEmail: String!
  userId: ID!
  userName: String!
}